<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>SReachSetOptions.m | SReachTools</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="SReachSetOptions.m" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Create user-specifiable options for use with SReachSet() ============================================================================= SReachSetOptions creates a MATLAB struct that contains user-specifiable options that may be used with SReachSet ============================================================================= options = SReachSetOptions(prob_str, method_str, varargin) Inputs: ------- prob_str - String specifying the problem of interest. For each case, we compute the optimal value function that maps initial states to different maximal reach probabilities 1. &#39;term&#39; : Stay within the safety_tube method_str - Solution technique to be used; available techniques: &#39;chance-open&#39;, &#39;genzps-open&#39;, &#39;lag-under&#39;, &#39;lag-over&#39; varargin - Additional required options for each technique, specified as Name-Value pairs. The additional required options are specified below. &#39;chance-open&#39; : Convex chance-constrained approach for an open-loop controller synthesis 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set A (sys.state_dim x n_dir)-dimensional matrix 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set at t=0, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed and the method used to obtain xmax under study (maximizing the reach probability or the Chebyshev centering) 4. pwa_accuracy - Accuracy of the piecewise affine overapproximation of the inverse of the standard normal cumulative density function &#39;genzps-open&#39; : Genz&#39;s algorithm + Patternsearch 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed, the summarized progress made by the bisection used for line search 4. tol_bisect - Tolerance for the bisection to terminate the line search along a direction vector for the vertex of the underapproximative polytope [Default 1e-2] 5. desired_accuracy - Accuracy expected for the integral of the Gaussian random vector X over the safety tube =&gt; Accuracy of the result [Default 5e-2] | This value can&#39;t be smaller than 1e-2 6. PSoptions - MATLAB struct from psoptimset(), options for MATLAB&#39;s patternsearch [Default psoptimset(&#39;Display&#39;, &#39;off&#39;)] &#39;lag-over&#39;/&#39;lag-under&#39; : Lagrangian-based over- and underapproximation 1. bound_set_method - Method for obtaining the bounded set for over or underapproximation. The available methods are: &#39;polytope&#39;, &#39;ellipsoid&#39;, and &#39;load&#39;, some of which requires additional arguments. a. polytope - Scale a user-provided polytope to satisfy the given probability constraint - template_polytope : [MUST HAVE] Template polytope which is scaled to get the bounded set - desired_accuracy : Accuracy for RandomVector/getProbPolyhedron | This value can&#39;t be smaller than 1e-2 [Default 1e-2] b. ellipsoid - Construct an ellipsoid to satify the given probability constraint c. load - Load a predefined polyhedron bounding set; primarily used for comparison and repeatability testing. - load_str : [MUST HAVE] Path to the file to load. All other inputs are IRRELEVANT for this option. Mat files to be loaded must have only contain the bounded set (Polyhedron object). 2. verbose - Verbosity of the implementation {0,1,2,3} 0 - No output 1 - Provides feedback on the progress of the direction vector computation 2 - Provides timing information about each step 3 - Provides plots of the intermediate recursions 3. compute_style - Computation style for the set-operation methods a. &#39;vfmethod&#39; - [DEFAULT] Use MPT3&#39;s Polyhedron manipulations to implement the set operations-based recursion. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. b. &#39;support&#39; - Use support functions and convex optimization to perform the computations - system : [MUST HAVE] LtvSystem/LtiSystem object that is being analyzed - n_vertices : Number of vertices to use [For lag-under] underapproximating one-step backward reach set [For lag-under] overapproximating the stochastic reach set overapproximation - equi_dir_vecs : [Auto-generated] Directions that are used for overapproximation 4. vf_enum_method - Enumeration style to use for vertex-facet enumeration. See notes a. &#39;cdd&#39; - [DEFAULT] Use MPT3&#39;s native polyhedral operations, which in turn use CDDMEX for vertex-facet enumeration. b. &#39;lrs&#39; - Use GeoCalcLib (a MATLAB bridge to McGill&#39;s LRS C code base) for vertex-facet enumeration Outputs: -------- options - Collection of user-specified options (Matlab struct created using SReachSetOptions) See also SReachSet. Notes: * Requires init_safe_set_affine and set_of_dir_vecs for the methods &#39;chance-open&#39; and &#39;genzps-open&#39;. * Requires load_str for the method lag-under with bound_set_method &#39;load&#39; * Requires template_polytope for the method lag-under with bound_set_method &#39;polytope&#39; - The template polytope must contain the origin * compute_style governs the computation style used to implement the Lagrangian technique for over and under approximation. - By default, the compute_style is &#39;vfmethod&#39;. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. It implements the recursion using the native operations available via MPT3. - Alternatively, the compute_style &#39;support&#39; uses support function to implement the Lagrangian approximations. * Since polytopes are obtained by sampling the support function, we require vectors that are equally spaced apart in the required Euclidean space. - In SReachSetOptions, these vectors are stored in the field `equi_dir_vecs`. - They are auto-generated by the options difference-of-convex programming. * Requires system for the computation of these vectors. * For lag-over, this computation style is recursion-free. - Utilizes the support function available as a simple LP - Requires equally spaced vectors in R^(sys.state_dim), obtained via difference-of-convex programming. - Computes an affine transformation of these vectors for meaningful overapproximation. A maximum volume ellipsoid approximately inscribed within the polytope is computed using scenario-based robust convex programming. - Returns a tight overapproximation of the overapproximation polytope by sampling this support function. * For lag-under, this computation style is `vfmethod guided by support functions` to reduce some of the computational overhead associated with `vfmethod`. - The polytopes are always expressed in the half-space form with the Minowksi sum computed by projecting the higher dimensional polytope constructed in state_space x input_space into the state_space. - The half-space form of the high dimension polytope is sampled to obtain the vertex form of an underapproximate polytope, which after projection, is converted back into its half-space form. * While specifying n_vertices, use the formula 2^{n_dim} points_per_quad + 2 * n_dim to obtain a spread of points where each quadrant has `points_per_quad` and the standard axis are also included. - For lag-under, n_dim is sys.state_dim + sys.input_dim - For lag-over, n_dim is sys.state_dim * Vertex-facet enumeration is a computationally hard problem. SReachTools currently support two popular techniques for addressing the same: 1. CDDMEX - MPT&#39;s preferred approach for vertex-facet enumeration * Requires no additional installation steps * Known to provide incorrect results or fail completely in some cases * See following websites for more information: https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html http://www.swmath.org/software/5097 2. LRS - Avis&#39;s LRS with MATLAB interface provided Rainer&#39;s GeoCalcLib * Requires few additional installation steps * Worked more reliably than CDDMEX * See following websites for more information: http://cgm.cs.mcgill.ca/~avis/C/lrs.html http://worc4021.github.io/GeoCalcLib/ * While &#39;Gaussian&#39; disturbance can have options.bound_set_method be &#39;polytope&#39; or &#39;ellipsoid&#39;, &#39;UserDefined&#39; disturbance requires options.bound_set_method to be &#39;polytope&#39;. ============================================================================ This function is part of the Stochastic Reachability Toolbox. License for the use of this function is given in https://github.com/unm-hscl/SReachTools/blob/master/LICENSE" />
<meta property="og:description" content="Create user-specifiable options for use with SReachSet() ============================================================================= SReachSetOptions creates a MATLAB struct that contains user-specifiable options that may be used with SReachSet ============================================================================= options = SReachSetOptions(prob_str, method_str, varargin) Inputs: ------- prob_str - String specifying the problem of interest. For each case, we compute the optimal value function that maps initial states to different maximal reach probabilities 1. &#39;term&#39; : Stay within the safety_tube method_str - Solution technique to be used; available techniques: &#39;chance-open&#39;, &#39;genzps-open&#39;, &#39;lag-under&#39;, &#39;lag-over&#39; varargin - Additional required options for each technique, specified as Name-Value pairs. The additional required options are specified below. &#39;chance-open&#39; : Convex chance-constrained approach for an open-loop controller synthesis 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set A (sys.state_dim x n_dir)-dimensional matrix 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set at t=0, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed and the method used to obtain xmax under study (maximizing the reach probability or the Chebyshev centering) 4. pwa_accuracy - Accuracy of the piecewise affine overapproximation of the inverse of the standard normal cumulative density function &#39;genzps-open&#39; : Genz&#39;s algorithm + Patternsearch 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed, the summarized progress made by the bisection used for line search 4. tol_bisect - Tolerance for the bisection to terminate the line search along a direction vector for the vertex of the underapproximative polytope [Default 1e-2] 5. desired_accuracy - Accuracy expected for the integral of the Gaussian random vector X over the safety tube =&gt; Accuracy of the result [Default 5e-2] | This value can&#39;t be smaller than 1e-2 6. PSoptions - MATLAB struct from psoptimset(), options for MATLAB&#39;s patternsearch [Default psoptimset(&#39;Display&#39;, &#39;off&#39;)] &#39;lag-over&#39;/&#39;lag-under&#39; : Lagrangian-based over- and underapproximation 1. bound_set_method - Method for obtaining the bounded set for over or underapproximation. The available methods are: &#39;polytope&#39;, &#39;ellipsoid&#39;, and &#39;load&#39;, some of which requires additional arguments. a. polytope - Scale a user-provided polytope to satisfy the given probability constraint - template_polytope : [MUST HAVE] Template polytope which is scaled to get the bounded set - desired_accuracy : Accuracy for RandomVector/getProbPolyhedron | This value can&#39;t be smaller than 1e-2 [Default 1e-2] b. ellipsoid - Construct an ellipsoid to satify the given probability constraint c. load - Load a predefined polyhedron bounding set; primarily used for comparison and repeatability testing. - load_str : [MUST HAVE] Path to the file to load. All other inputs are IRRELEVANT for this option. Mat files to be loaded must have only contain the bounded set (Polyhedron object). 2. verbose - Verbosity of the implementation {0,1,2,3} 0 - No output 1 - Provides feedback on the progress of the direction vector computation 2 - Provides timing information about each step 3 - Provides plots of the intermediate recursions 3. compute_style - Computation style for the set-operation methods a. &#39;vfmethod&#39; - [DEFAULT] Use MPT3&#39;s Polyhedron manipulations to implement the set operations-based recursion. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. b. &#39;support&#39; - Use support functions and convex optimization to perform the computations - system : [MUST HAVE] LtvSystem/LtiSystem object that is being analyzed - n_vertices : Number of vertices to use [For lag-under] underapproximating one-step backward reach set [For lag-under] overapproximating the stochastic reach set overapproximation - equi_dir_vecs : [Auto-generated] Directions that are used for overapproximation 4. vf_enum_method - Enumeration style to use for vertex-facet enumeration. See notes a. &#39;cdd&#39; - [DEFAULT] Use MPT3&#39;s native polyhedral operations, which in turn use CDDMEX for vertex-facet enumeration. b. &#39;lrs&#39; - Use GeoCalcLib (a MATLAB bridge to McGill&#39;s LRS C code base) for vertex-facet enumeration Outputs: -------- options - Collection of user-specified options (Matlab struct created using SReachSetOptions) See also SReachSet. Notes: * Requires init_safe_set_affine and set_of_dir_vecs for the methods &#39;chance-open&#39; and &#39;genzps-open&#39;. * Requires load_str for the method lag-under with bound_set_method &#39;load&#39; * Requires template_polytope for the method lag-under with bound_set_method &#39;polytope&#39; - The template polytope must contain the origin * compute_style governs the computation style used to implement the Lagrangian technique for over and under approximation. - By default, the compute_style is &#39;vfmethod&#39;. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. It implements the recursion using the native operations available via MPT3. - Alternatively, the compute_style &#39;support&#39; uses support function to implement the Lagrangian approximations. * Since polytopes are obtained by sampling the support function, we require vectors that are equally spaced apart in the required Euclidean space. - In SReachSetOptions, these vectors are stored in the field `equi_dir_vecs`. - They are auto-generated by the options difference-of-convex programming. * Requires system for the computation of these vectors. * For lag-over, this computation style is recursion-free. - Utilizes the support function available as a simple LP - Requires equally spaced vectors in R^(sys.state_dim), obtained via difference-of-convex programming. - Computes an affine transformation of these vectors for meaningful overapproximation. A maximum volume ellipsoid approximately inscribed within the polytope is computed using scenario-based robust convex programming. - Returns a tight overapproximation of the overapproximation polytope by sampling this support function. * For lag-under, this computation style is `vfmethod guided by support functions` to reduce some of the computational overhead associated with `vfmethod`. - The polytopes are always expressed in the half-space form with the Minowksi sum computed by projecting the higher dimensional polytope constructed in state_space x input_space into the state_space. - The half-space form of the high dimension polytope is sampled to obtain the vertex form of an underapproximate polytope, which after projection, is converted back into its half-space form. * While specifying n_vertices, use the formula 2^{n_dim} points_per_quad + 2 * n_dim to obtain a spread of points where each quadrant has `points_per_quad` and the standard axis are also included. - For lag-under, n_dim is sys.state_dim + sys.input_dim - For lag-over, n_dim is sys.state_dim * Vertex-facet enumeration is a computationally hard problem. SReachTools currently support two popular techniques for addressing the same: 1. CDDMEX - MPT&#39;s preferred approach for vertex-facet enumeration * Requires no additional installation steps * Known to provide incorrect results or fail completely in some cases * See following websites for more information: https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html http://www.swmath.org/software/5097 2. LRS - Avis&#39;s LRS with MATLAB interface provided Rainer&#39;s GeoCalcLib * Requires few additional installation steps * Worked more reliably than CDDMEX * See following websites for more information: http://cgm.cs.mcgill.ca/~avis/C/lrs.html http://worc4021.github.io/GeoCalcLib/ * While &#39;Gaussian&#39; disturbance can have options.bound_set_method be &#39;polytope&#39; or &#39;ellipsoid&#39;, &#39;UserDefined&#39; disturbance requires options.bound_set_method to be &#39;polytope&#39;. ============================================================================ This function is part of the Stochastic Reachability Toolbox. License for the use of this function is given in https://github.com/unm-hscl/SReachTools/blob/master/LICENSE" />
<link rel="canonical" href="http://localhost:4000/docs/src/modules/stochReach/setBased/SReachSetOptions/" />
<meta property="og:url" content="http://localhost:4000/docs/src/modules/stochReach/setBased/SReachSetOptions/" />
<meta property="og:site_name" content="SReachTools" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-18T10:13:45-04:00" />
<script type="application/ld+json">
{"headline":"SReachSetOptions.m","dateModified":"2019-04-18T10:13:45-04:00","datePublished":"2019-04-18T10:13:45-04:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/docs/src/modules/stochReach/setBased/SReachSetOptions/"},"url":"http://localhost:4000/docs/src/modules/stochReach/setBased/SReachSetOptions/","description":"Create user-specifiable options for use with SReachSet() ============================================================================= SReachSetOptions creates a MATLAB struct that contains user-specifiable options that may be used with SReachSet ============================================================================= options = SReachSetOptions(prob_str, method_str, varargin) Inputs: ------- prob_str - String specifying the problem of interest. For each case, we compute the optimal value function that maps initial states to different maximal reach probabilities 1. &#39;term&#39; : Stay within the safety_tube method_str - Solution technique to be used; available techniques: &#39;chance-open&#39;, &#39;genzps-open&#39;, &#39;lag-under&#39;, &#39;lag-over&#39; varargin - Additional required options for each technique, specified as Name-Value pairs. The additional required options are specified below. &#39;chance-open&#39; : Convex chance-constrained approach for an open-loop controller synthesis 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set A (sys.state_dim x n_dir)-dimensional matrix 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set at t=0, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed and the method used to obtain xmax under study (maximizing the reach probability or the Chebyshev centering) 4. pwa_accuracy - Accuracy of the piecewise affine overapproximation of the inverse of the standard normal cumulative density function &#39;genzps-open&#39; : Genz&#39;s algorithm + Patternsearch 1. set_of_dir_vecs - [MUST HAVE] Set of direction vectors shot outwards from the initial state with maximum reach probability to identify the vertices of the underapproximative polytope for the stochastic reach set 2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on the initial state. Must include a translate of the affine hull of the set_of_dir_vecs | On intersection with the safe set, it should result in a 2-D set 3. verbose - Verbosity of the implementation {0,1} 0 - No output 1 - Outputs the direction vector being analyzed, the summarized progress made by the bisection used for line search 4. tol_bisect - Tolerance for the bisection to terminate the line search along a direction vector for the vertex of the underapproximative polytope [Default 1e-2] 5. desired_accuracy - Accuracy expected for the integral of the Gaussian random vector X over the safety tube =&gt; Accuracy of the result [Default 5e-2] | This value can&#39;t be smaller than 1e-2 6. PSoptions - MATLAB struct from psoptimset(), options for MATLAB&#39;s patternsearch [Default psoptimset(&#39;Display&#39;, &#39;off&#39;)] &#39;lag-over&#39;/&#39;lag-under&#39; : Lagrangian-based over- and underapproximation 1. bound_set_method - Method for obtaining the bounded set for over or underapproximation. The available methods are: &#39;polytope&#39;, &#39;ellipsoid&#39;, and &#39;load&#39;, some of which requires additional arguments. a. polytope - Scale a user-provided polytope to satisfy the given probability constraint - template_polytope : [MUST HAVE] Template polytope which is scaled to get the bounded set - desired_accuracy : Accuracy for RandomVector/getProbPolyhedron | This value can&#39;t be smaller than 1e-2 [Default 1e-2] b. ellipsoid - Construct an ellipsoid to satify the given probability constraint c. load - Load a predefined polyhedron bounding set; primarily used for comparison and repeatability testing. - load_str : [MUST HAVE] Path to the file to load. All other inputs are IRRELEVANT for this option. Mat files to be loaded must have only contain the bounded set (Polyhedron object). 2. verbose - Verbosity of the implementation {0,1,2,3} 0 - No output 1 - Provides feedback on the progress of the direction vector computation 2 - Provides timing information about each step 3 - Provides plots of the intermediate recursions 3. compute_style - Computation style for the set-operation methods a. &#39;vfmethod&#39; - [DEFAULT] Use MPT3&#39;s Polyhedron manipulations to implement the set operations-based recursion. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. b. &#39;support&#39; - Use support functions and convex optimization to perform the computations - system : [MUST HAVE] LtvSystem/LtiSystem object that is being analyzed - n_vertices : Number of vertices to use [For lag-under] underapproximating one-step backward reach set [For lag-under] overapproximating the stochastic reach set overapproximation - equi_dir_vecs : [Auto-generated] Directions that are used for overapproximation 4. vf_enum_method - Enumeration style to use for vertex-facet enumeration. See notes a. &#39;cdd&#39; - [DEFAULT] Use MPT3&#39;s native polyhedral operations, which in turn use CDDMEX for vertex-facet enumeration. b. &#39;lrs&#39; - Use GeoCalcLib (a MATLAB bridge to McGill&#39;s LRS C code base) for vertex-facet enumeration Outputs: -------- options - Collection of user-specified options (Matlab struct created using SReachSetOptions) See also SReachSet. Notes: * Requires init_safe_set_affine and set_of_dir_vecs for the methods &#39;chance-open&#39; and &#39;genzps-open&#39;. * Requires load_str for the method lag-under with bound_set_method &#39;load&#39; * Requires template_polytope for the method lag-under with bound_set_method &#39;polytope&#39; - The template polytope must contain the origin * compute_style governs the computation style used to implement the Lagrangian technique for over and under approximation. - By default, the compute_style is &#39;vfmethod&#39;. This approach will fast in low dimensions, it does not scale well with dimension due to the vertex-facet enumeration. It implements the recursion using the native operations available via MPT3. - Alternatively, the compute_style &#39;support&#39; uses support function to implement the Lagrangian approximations. * Since polytopes are obtained by sampling the support function, we require vectors that are equally spaced apart in the required Euclidean space. - In SReachSetOptions, these vectors are stored in the field `equi_dir_vecs`. - They are auto-generated by the options difference-of-convex programming. * Requires system for the computation of these vectors. * For lag-over, this computation style is recursion-free. - Utilizes the support function available as a simple LP - Requires equally spaced vectors in R^(sys.state_dim), obtained via difference-of-convex programming. - Computes an affine transformation of these vectors for meaningful overapproximation. A maximum volume ellipsoid approximately inscribed within the polytope is computed using scenario-based robust convex programming. - Returns a tight overapproximation of the overapproximation polytope by sampling this support function. * For lag-under, this computation style is `vfmethod guided by support functions` to reduce some of the computational overhead associated with `vfmethod`. - The polytopes are always expressed in the half-space form with the Minowksi sum computed by projecting the higher dimensional polytope constructed in state_space x input_space into the state_space. - The half-space form of the high dimension polytope is sampled to obtain the vertex form of an underapproximate polytope, which after projection, is converted back into its half-space form. * While specifying n_vertices, use the formula 2^{n_dim} points_per_quad + 2 * n_dim to obtain a spread of points where each quadrant has `points_per_quad` and the standard axis are also included. - For lag-under, n_dim is sys.state_dim + sys.input_dim - For lag-over, n_dim is sys.state_dim * Vertex-facet enumeration is a computationally hard problem. SReachTools currently support two popular techniques for addressing the same: 1. CDDMEX - MPT&#39;s preferred approach for vertex-facet enumeration * Requires no additional installation steps * Known to provide incorrect results or fail completely in some cases * See following websites for more information: https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html http://www.swmath.org/software/5097 2. LRS - Avis&#39;s LRS with MATLAB interface provided Rainer&#39;s GeoCalcLib * Requires few additional installation steps * Worked more reliably than CDDMEX * See following websites for more information: http://cgm.cs.mcgill.ca/~avis/C/lrs.html http://worc4021.github.io/GeoCalcLib/ * While &#39;Gaussian&#39; disturbance can have options.bound_set_method be &#39;polytope&#39; or &#39;ellipsoid&#39;, &#39;UserDefined&#39; disturbance requires options.bound_set_method to be &#39;polytope&#39;. ============================================================================ This function is part of the Stochastic Reachability Toolbox. License for the use of this function is given in https://github.com/unm-hscl/SReachTools/blob/master/LICENSE","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="SReachTools" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">SReachTools</a>
    <div style="float: left; padding-top: 9px; padding-left: 15px; height: 45px;">
      <a href="https://github.com/unm-hscl/SReachTools" style="line-height: 54px;">
        <svg viewBox="0 0 16 16" width="30px" height="30px"><path fill="#ffffff" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
      </a>
    </div><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
<!--<a class="page-link" href="/blog/">Blog Posts</a><a class="page-link" href="/contributing/">Contributing Guidelines</a><a class="page-link" href="/docs/">Documentation</a><a class="page-link" href="/examples/">Examples</a><a class="page-link" href="/">Stochastic Reachability Toolbox for MATLAB</a><a class="page-link" href="/installation.html">Dependencies &amp; Installation</a><a class="page-link" href="/license/">Licenses</a><a class="page-link" href="/long_description.html">Stochastic Reachability Toolbox</a>-->
            <a class="page-link" href="/">Home</a>
            <a class="page-link" href="/installation">Installation</a>
            <!-- <a class="page-link" href="/about">About</a> -->
            <a class="page-link" href="/docs">Docs</a>
            <a class="page-link" href="/examples">Examples</a>
            <a class="page-link" href="/license">Licenses</a>
            <!-- <a class="page-link" href="/contact">Contact</a> -->
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">SReachSetOptions.m</h1>
  </header>

  <div class="post-content">
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Create user-specifiable options for use with SReachSet()
  =============================================================================
 
  SReachSetOptions creates a MATLAB struct that contains user-specifiable
  options that may be used with SReachSet
 
  =============================================================================
 
    options = SReachSetOptions(prob_str, method_str, varargin)
  
  Inputs:
  -------
    prob_str    - String specifying the problem of interest. For each case, we
                  compute the optimal value function that maps initial states
                  to different maximal reach probabilities
                      1. 'term' : Stay within the safety_tube
    method_str  - Solution technique to be used; available techniques:
                      'chance-open', 'genzps-open', 'lag-under', 'lag-over'
    varargin    - Additional required options for each technique, specified as
                  Name-Value pairs. The additional required options are 
                  specified below.
  
        'chance-open' : Convex chance-constrained approach for an open-loop 
                        controller synthesis
            1. set_of_dir_vecs      - [MUST HAVE] Set of direction vectors shot
                                      outwards from the initial state with
                                      maximum reach probability to identify the
                                      vertices of the underapproximative
                                      polytope for the stochastic reach set
                                      A (sys.state_dim x n_dir)-dimensional
                                      matrix
            2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on
                                      the initial state. Must include a
                                      translate of the affine hull of the
                                      set_of_dir_vecs | On intersection with the
                                      safe set at t=0, it should result in a 2-D 
                                      set
            3. verbose              - Verbosity of the implementation {0,1}
                                        0 - No output 
                                        1 - Outputs the direction vector being
                                            analyzed and the method used to
                                            obtain xmax under study (maximizing
                                            the reach probability or the
                                            Chebyshev centering)
            4. pwa_accuracy         - Accuracy of the piecewise affine
                                      overapproximation of the inverse of the
                                      standard normal cumulative density
                                      function
  
        'genzps-open' : Genz's algorithm + Patternsearch
            1. set_of_dir_vecs      - [MUST HAVE] Set of direction vectors shot
                                      outwards from the initial state with
                                      maximum reach probability to identify the
                                      vertices of the underapproximative
                                      polytope for the stochastic reach set
            2. init_safe_set_affine - [MUST HAVE] Affine constraints (if any) on
                                      the initial state. Must include a
                                      translate of the affine hull of the
                                      set_of_dir_vecs | On intersection with the
                                      safe set, it should result in a 2-D set
            3. verbose              - Verbosity of the implementation {0,1}
                                        0 - No output 
                                        1 - Outputs the direction vector being
                                            analyzed, the summarized progress
                                            made by the bisection used for line
                                            search
            4. tol_bisect           - Tolerance for the bisection to terminate
                                      the line search along a direction vector
                                      for the vertex of the underapproximative
                                      polytope [Default 1e-2]
            5. desired_accuracy     - Accuracy expected for the integral of the
                                      Gaussian random vector X over the safety
                                      tube =&gt; Accuracy of the result [Default
                                      5e-2] | This value can't be smaller
                                      than 1e-2
            6. PSoptions            - MATLAB struct from psoptimset(), options
                                      for MATLAB's patternsearch 
                                      [Default psoptimset('Display', 'off')]
  
        'lag-over'/'lag-under' : Lagrangian-based over- and underapproximation
             1. bound_set_method        - Method for obtaining the bounded set
                                          for over or underapproximation. The
                                          available methods are: 'polytope',
                                          'ellipsoid', and 'load', some of which
                                          requires additional arguments.
                a. polytope             - Scale a user-provided polytope to
                                          satisfy the given probability
                                          constraint
                             - template_polytope 
                                        : [MUST HAVE] Template polytope
                                          which is scaled to get the
                                          bounded set
                             - desired_accuracy
                                        : Accuracy for 
                                          RandomVector/getProbPolyhedron | This 
                                          value can't be smaller than 1e-2
                                          [Default 1e-2]
                b. ellipsoid            - Construct an ellipsoid to satify the
                                          given probability constraint
                c. load                 - Load a predefined polyhedron bounding
                                          set; primarily used for comparison and
                                          repeatability testing.
                             - load_str : [MUST HAVE] Path to the file to load.
                                          All other inputs are IRRELEVANT for
                                          this option.  Mat files to be loaded
                                          must have only contain the bounded set
                                          (Polyhedron object).
             2. verbose                 - Verbosity of the implementation
                                          {0,1,2,3}
                                          0 - No output 
                                          1 - Provides feedback on the progress
                                              of the direction vector
                                              computation
                                          2 - Provides timing information about
                                              each step
                                          3 - Provides plots of the intermediate
                                              recursions
             3. compute_style           - Computation style for the
                                          set-operation methods
                a. 'vfmethod'          - [DEFAULT] Use MPT3's Polyhedron 
                                          manipulations to implement the 
                                          set operations-based recursion. This
                                          approach will fast in low dimensions,
                                          it does not scale well with dimension
                                          due to the vertex-facet enumeration.
                b. 'support'            - Use support functions and convex
                                          optimization to perform the
                                          computations
                             - system   : [MUST HAVE] LtvSystem/LtiSystem object
                                          that is being analyzed
                             - n_vertices
                                        : Number of vertices to use 
                                             [For lag-under] underapproximating
                                                    one-step backward reach set
                                             [For lag-under] overapproximating
                                                    the stochastic reach set
                                                    overapproximation 
                             - equi_dir_vecs
                                        : [Auto-generated] Directions that
                                          are used for overapproximation
             4. vf_enum_method          - Enumeration style to use for
                                          vertex-facet enumeration. See notes
                a. 'cdd'                - [DEFAULT] Use MPT3's native polyhedral
                                          operations, which in turn use CDDMEX
                                          for vertex-facet enumeration.
                b. 'lrs'                - Use GeoCalcLib (a MATLAB bridge to
                                          McGill's LRS C code base) for
                                          vertex-facet enumeration
 
  Outputs:
  --------
    options     - Collection of user-specified options
                  (Matlab struct created using SReachSetOptions)
 
  See also SReachSet.
 
  Notes:
  * Requires init_safe_set_affine and set_of_dir_vecs for the methods 
    'chance-open' and 'genzps-open'.
  * Requires load_str for the method lag-under with bound_set_method 'load'
  * Requires template_polytope for the method lag-under with
    bound_set_method 'polytope'
        - The template polytope must contain the origin
  * compute_style governs the computation style used to implement the Lagrangian
    technique for over and under approximation. 
        - By default, the compute_style is 'vfmethod'. This approach will fast
          in low dimensions, it does not scale well with dimension due to the
          vertex-facet enumeration. It implements the recursion using the native
          operations available via MPT3.
        - Alternatively, the compute_style 'support' uses support function to
          implement the Lagrangian approximations. 
            * Since polytopes are obtained by sampling the support function, we
              require vectors that are equally spaced apart in the required
              Euclidean space.
                - In SReachSetOptions, these vectors are stored in the field
                `equi_dir_vecs`.
                - They are auto-generated by the options difference-of-convex
                  programming.
            * Requires system for the computation of these vectors.
            * For lag-over, this computation style is recursion-free. 
                - Utilizes the support function available as a simple LP
                - Requires equally spaced vectors in R^(sys.state_dim), obtained
                  via difference-of-convex programming.
                - Computes an affine transformation of these vectors for
                  meaningful overapproximation. A maximum volume ellipsoid
                  approximately inscribed within the polytope is computed using
                  scenario-based robust convex programming.
                - Returns a tight overapproximation of the overapproximation
                  polytope by sampling this support function.
            * For lag-under, this computation style is `vfmethod guided by
              support functions` to reduce some of the computational overhead
              associated with `vfmethod`.
                - The polytopes are always expressed in the half-space form with
                  the Minowksi sum computed by projecting the higher dimensional
                  polytope constructed in state_space x input_space into the
                  state_space. 
                - The half-space form of the high dimension polytope is sampled
                  to obtain the vertex form of an underapproximate polytope,
                  which after projection, is converted back into its half-space
                  form.
  * While specifying n_vertices, use the formula 
    2^{n_dim} points_per_quad + 2 * n_dim 
    to obtain a spread of points where each quadrant has `points_per_quad`
    and the standard axis are also included.
        - For lag-under, n_dim is sys.state_dim + sys.input_dim
        - For lag-over, n_dim is sys.state_dim
  * Vertex-facet enumeration is a computationally hard problem. SReachTools
    currently support two popular techniques for addressing the same:
    1. CDDMEX - MPT's preferred approach for vertex-facet enumeration
                * Requires no additional installation steps
                * Known to provide incorrect results or fail completely in some
                  cases
                * See following websites for more information: 
                    https://www.inf.ethz.ch/personal/fukudak/cdd_home/index.html
                    http://www.swmath.org/software/5097
    2. LRS    - Avis's LRS with MATLAB interface provided Rainer's GeoCalcLib
                * Requires few additional installation steps
                * Worked more reliably than CDDMEX
                * See following websites for more information: 
                    http://cgm.cs.mcgill.ca/~avis/C/lrs.html
                    http://worc4021.github.io/GeoCalcLib/
  * While 'Gaussian' disturbance can have options.bound_set_method be 'polytope'
    or 'ellipsoid', 'UserDefined' disturbance requires options.bound_set_method
    to be 'polytope'.
  ============================================================================
  
  This function is part of the Stochastic Reachability Toolbox.
  License for the use of this function is given in
       https://github.com/unm-hscl/SReachTools/blob/master/LICENSE
  
 
</code></pre></div></div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div style="text-align: center;">
          <p>&copy 2019 <a href="https://unm.edu/~abyvinod">Abraham P. Vinod</a>, <a href="https://unm.edu/~gleasonj">Joseph D. Gleason</a>, and <a href="https://unm.edu/~oishi" target="_blank">Meeko M. K. Oishi</a></p>
          <p><a href="https://hscl.unm.edu/">Hybrid Systems and Control Lab, UNM</a></p>
          <p><a href="/installation">SReachTools Installation Page</a></p>
        <p>Powered by <a href="https://jekyllrb.com/">Jekyll</a>; theme modified from <a href="https://github.com/jekyll/minima">Jekyll minima</a></p>
      </div>
  </div>

</footer>
</body>

</html>
